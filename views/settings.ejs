<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Настройки — 2030</title>
<style>
body {
    font-family: sans-serif;
    background: radial-gradient(circle at 50% -30%, #101222, #040507 80%);
    color: #f0f4ff;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    padding-top: 60px;
    overflow-x: hidden;
    position: relative;
}

h1 {
    font-weight: 600;
    margin-bottom: 30px;
    font-size: 2em;
    background: linear-gradient(90deg, #00e0ff, #6a5acd);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-align: center;
    text-shadow: 0 0 12px rgba(0,224,255,0.5);
}

.settings-form {
    max-width: 400px;
    width: 100%;
    padding: 30px;
    background: rgba(255,255,255,0.05);
    border-radius: 18px;
    backdrop-filter: blur(16px);
    box-shadow: 0 0 32px rgba(0,0,0,0.4);
}

.settings-form input {
    width: 100%;
    padding: 12px;
    margin: 10px 0;
    border-radius: 12px;
    border: 1px solid rgba(255,255,255,0.2);
    background: rgba(0,0,0,0.3);
    color: #fff;
    font-size: 1em;
}

.settings-form button {
    width: 100%;
    padding: 14px;
    border-radius: 12px;
    border: none;
    background: linear-gradient(135deg, #00e0ff, #6a5acd);
    color: #000;
    cursor: pointer;
    font-weight: 600;
    margin-top: 12px;
    box-shadow: 0 0 20px rgba(0,224,255,0.4);
    transition: transform 0.25s, box-shadow 0.25s;
}

.settings-form button:hover {
    transform: scale(1.05);
    box-shadow: 0 0 25px rgba(0,224,255,0.6);
}

.success {
    color: #0f0;
    margin-bottom: 10px;
    text-align: center;
}

.error {
    color: #f00;
    margin-bottom: 10px;
    text-align: center;
}

a {
    color: #00e0ff;
    text-decoration: none;
    transition: color 0.25s;
}

a:hover {
    color: #6a5acd;
}

/* ⚙️ однотонные силуэты */
.gear {
    position: absolute;
    font-size: 24px;
    color: #00e0ff; /* однотонный */
    user-select: none;
    pointer-events: none;
    z-index: 0;
}
</style>
</head>
<body>
<h1>Настройки аккаунта</h1>
<div class="settings-form">
    <% if (error) { %>
        <div class="error"><%= error %></div>
    <% } %>
    <% if (success) { %>
        <div class="success"><%= success %></div>
    <% } %>
    <form method="POST" action="/settings">
        <input type="password" name="oldPassword" placeholder="Текущий пароль" required>
        <input type="password" name="newPassword" placeholder="Новый пароль" required>
        <input type="password" name="confirmPassword" placeholder="Подтвердите новый пароль" required>
        <button type="submit">Сменить пароль</button>
    </form>
</div>
<p style="text-align:center; margin-top: 20px;"><a href="/">Вернуться на главную</a></p>

<script>
/* ⚙️ Плавающие однотонные символы */
const layers = [
  { speed: 4, size: [18,28], opacity: [0.4,0.7], sway: 15 },
  { speed: 6, size: [14,24], opacity: [0.3,0.6], sway: 10 },
  { speed: 8, size: [10,20], opacity: [0.2,0.5], sway: 6 }
];

function spawnGear() {
    const layer = layers[Math.floor(Math.random()*layers.length)];
    const gear = document.createElement("div");
    gear.classList.add("gear");
    gear.textContent = "⚙️";
    gear.style.left = Math.random() * 100 + "vw";
    gear.style.top = Math.random() * 100 + "vh";
    gear.style.fontSize = (Math.random()*(layer.size[1]-layer.size[0]) + layer.size[0]) + "px";
    gear.style.opacity = Math.random()*(layer.opacity[1]-layer.opacity[0]) + layer.opacity[0];

    const startRotation = Math.random()*360;
    let rotationSpeed = (Math.random()*30 + 15) * (Math.random()<0.5?-1:1);
    const start = Date.now();

    function animateGear() {
        const elapsed = (Date.now() - start)/1000;
        const offsetX = Math.sin(elapsed*2*Math.PI/layer.speed) * layer.sway;
        const rotation = startRotation + elapsed*rotationSpeed;
        gear.style.transform = `translateX(${offsetX}px) rotate(${rotation}deg)`;
        requestAnimationFrame(animateGear);
    }
    animateGear();
    document.body.appendChild(gear);
    setTimeout(()=>gear.remove(), layer.speed*1000 + 1500);
}

setInterval(spawnGear, 400);
</script>
</body>
</html>
